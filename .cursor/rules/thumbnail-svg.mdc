---
description: SVG サムネイル作成時の XML 互換性ルール（cairosvg 変換エラー防止）
globs: "**/*.svg"
alwaysApply: false
---

# SVG サムネイルの注意事項

## 非 ASCII 文字は XML 数値参照を使う

CI の cairosvg（expat XML パーサー）は生の Unicode 文字でパースエラーになる場合がある。

```xml
<!-- BAD: 生の Unicode ミドルドット -->
<text>R vs Winrate · Drawdown · Expectancy</text>

<!-- GOOD: XML 数値参照 -->
<text>R vs Winrate &#xB7; Drawdown &#xB7; Expectancy</text>
```

対象文字の例: `·`（U+00B7）、`—`（U+2014）、`×`（U+00D7）など

## XML 宣言を付ける（推奨）

```xml
<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" ...>
```

## 運用ルール

- 各投稿フォルダに `thumbnail.svg` を配置
- `thumbnail.png` は CI（cairosvg）が自動生成 → リポジトリにコミットしない
- Web 表示は SVG を直接参照、X カードのみ PNG を使用
